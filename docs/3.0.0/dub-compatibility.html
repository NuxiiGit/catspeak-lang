<!DOCTYPE html>
<!--
    AUTOMATICALLY GENERATED USING THE CATSPEAK BOOK GENERATOR:
    https://github.com/katsaii/catspeak-lang
--><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="author" content="Katsaii"><meta name="description" content="Dubiously undocumented behaviour and quirks."><title>Catspeak Reference :: compatibility of Dubiously Undocumented</title><link rel="stylesheet" href="./style.css"></head><body><header><h1>Catspeak Reference</h1><nav><ul><li><a href="hom-welcome.html">Home</a></li><li><a href="lib-init.html">Library Reference</a></li><li><a href="dub-compatibility.html"><mark>Dubiously Undocumented</mark></a></li></ul></nav><hr></header><article id="chapter-content"><aside id="chapters"><h2>Chapters</h2><ul><li><a href="dub-compatibility.html"><mark>compatibility</mark></a><ul><li><a href="dub-struct-future.html">struct Future</a></li><li><a href="dub-enum-futurestate.html">enum FutureState</a></li></ul></li></ul></aside><aside id="contents"><h2>Contents</h2><ul><li><a href="#catspeak_add_constant">catspeak_add_constant</a></li><li><a href="#catspeak_add_function">catspeak_add_function</a></li><li><a href="#catspeak_compile_buffer">catspeak_compile_buffer</a></li><li><a href="#catspeak_compile_string">catspeak_compile_string</a></li><li><a href="#catspeak_config">catspeak_config</a></li><li><a href="#catspeak_create_buffer_from_st+s">catspeak_create_buffer_from_string</a></li><li><a href="#catspeak_execute">catspeak_execute</a></li><li><a href="#catspeak_into_gml_function">catspeak_into_gml_function</a></li><li><a href="#catspeak_session_extern">catspeak_session_extern</a></li><li><a href="#future_all">future_all</a></li><li><a href="#future_any">future_any</a></li><li><a href="#future_error">future_error</a></li><li><a href="#future_ok">future_ok</a></li><li><a href="#future_settled">future_settled</a></li><li><a href="#is_future">is_future</a></li></ul></aside><main><article><h1 class="chapter-title">compatibility</h1><p>Contains compatibility library for help with converting from Catspeak 2 to
Catspeak 3.</p><section><h1 class="heading" id="catspeak_add_constant"><a href="#catspeak_add_constant">Â§</a> catspeak_add_constant</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">catspeak_add_constant</span>(
  <span class="kw-var">name</span> : <span class="kw-typ">String</span>,
  <span class="kw-var">value</span> : <span class="kw-typ">Any</span>,
  ... : <span class="kw-typ">Any</span>,
)</code></pre><p>Permanently adds a new Catspeak constant to the default standard library.
If you want to add a function, use the <code class="inline-code">catspeak_add_function</code> function
instead because it makes sure your value will be callable from within
Catspeak.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">name</code></p><p>The name of the constant to add.</p></li><li><p><code class="inline-code">value</code></p><p>The value to add.</p></li><li><p><code class="inline-code">...</code></p><p>The remaining key-value pairs to add, in the same pattern as the two
previous arguments.</p></li></ul></section><section><h1 class="heading" id="catspeak_add_function"><a href="#catspeak_add_function">Â§</a> catspeak_add_function</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">catspeak_add_function</span>(
  <span class="kw-var">name</span> : <span class="kw-typ">String</span>,
  <span class="kw-var">f</span> : <span class="kw-typ">Function</span>,
  ... : <span class="kw-typ">Any</span>,
)</code></pre><blockquote class="stab deprecated"><strong>ðŸ‘Ž Deprecated</strong></blockquote><p>Permanently adds a new Catspeak function to the default standard library.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">name</code></p><p>The name of the function to add.</p></li><li><p><code class="inline-code">f</code></p><p>The function to add, will be converted into a method if a script ID
is used.</p></li><li><p><code class="inline-code">...</code></p><p>The remaining key-value pairs to add, in the same pattern as the two
previous arguments.</p></li></ul></section><section><h1 class="heading" id="catspeak_compile_buffer"><a href="#catspeak_compile_buffer">Â§</a> catspeak_compile_buffer</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">catspeak_compile_buffer</span>(
  <span class="kw-var">buff</span> : <span class="kw-mac">ID</span>.<span class="kw-typ">Buffer</span>,
  <span class="kw-var">consume</span>? : <span class="kw-typ">Bool</span>,
  <span class="kw-var">offset</span>? : <span class="kw-typ">Real</span>,
  <span class="kw-var">size</span>? : <span class="kw-typ">Real</span>,
) -> <span class="kw-typ">Struct</span>.<span class="kw-typ">CatspeakProcess</span></code></pre><blockquote class="stab deprecated"><strong>ðŸ‘Ž Deprecated</strong></blockquote><p>Creates a new Catspeak compiler process for a buffer containing Catspeak
code.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">buff</code></p><p>A reference to the buffer containing the source code to compile.</p></li><li><p><code class="inline-code">consume</code> <em>(optional)</em></p><p>Whether the buffer should be deleted after the compiler process is
complete. Defaults to <code class="inline-code">false</code>.</p></li><li><p><code class="inline-code">offset</code> <em>(optional)</em></p><p>The offset in the buffer to start parsing from. Defaults to 0, the
start of the buffer.</p></li><li><p><code class="inline-code">size</code> <em>(optional)</em></p><p>The length of the buffer input. Any characters beyond this limit will
be treated as the end of the file. Defaults to <code class="inline-code">infinity</code>.</p></li></ul><p><strong>Returns</strong> <code class="inline-code">Struct.CatspeakProcess</code></p></section><section><h1 class="heading" id="catspeak_compile_string"><a href="#catspeak_compile_string">Â§</a> catspeak_compile_string</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">catspeak_compile_string</span>(
  <span class="kw-var">src</span> : <span class="kw-typ">Any</span>,
) -> <span class="kw-typ">Struct</span>.<span class="kw-typ">CatspeakProcess</span></code></pre><blockquote class="stab deprecated"><strong>ðŸ‘Ž Deprecated</strong></blockquote><p>Creates a new Catspeak compiler process for a string containing Catspeak
code. This will allocate a new buffer to store the string, if that isn't
ideal then you will have to create and write to your own buffer, then
pass it into the <code class="inline-code">catspeak_compile_buffer</code> function instead.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">src</code></p><p>The value containing the source code to compile.</p></li></ul><p><strong>Returns</strong> <code class="inline-code">Struct.CatspeakProcess</code></p></section><section><h1 class="heading" id="catspeak_config"><a href="#catspeak_config">Â§</a> catspeak_config</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">catspeak_config</span>() -> <span class="kw-typ">Struct</span></code></pre><blockquote class="stab deprecated"><strong>ðŸ‘Ž Deprecated</strong></blockquote><p>Configures various global settings of the Catspeak compiler and runtime.
See the list in <code class="inline-code">scr_catspeak_config</code> for configuration values and their
usages.</p><p><strong>Returns</strong> <code class="inline-code">Struct</code></p></section><section><h1 class="heading" id="catspeak_create_buffer_from_st+s"><a href="#catspeak_create_buffer_from_st+s">Â§</a> catspeak_create_buffer_from_string</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">catspeak_create_buffer_from_string</span>(
  <span class="kw-var">src</span> : <span class="kw-typ">String</span>,
) -> <span class="kw-typ">Id</span>.<span class="kw-typ">Buffer</span></code></pre><blockquote class="stab deprecated"><strong>ðŸ‘Ž Deprecated</strong></blockquote><p>A helper function for creating a buffer from a string.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">src</code></p><p>The source code to convert into a buffer.</p></li></ul><p><strong>Returns</strong> <code class="inline-code">Id.Buffer</code></p></section><section><h1 class="heading" id="catspeak_execute"><a href="#catspeak_execute">Â§</a> catspeak_execute</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">catspeak_execute</span>() -> <span class="kw-typ">Struct</span>.<span class="kw-typ">CatspeakProcess</span></code></pre><blockquote class="stab deprecated"><strong>ðŸ‘Ž Deprecated</strong><p>@param {Function|Struct.CatspeakFunction} scr
The GML or Catspeak function to execute.</p><p>@param {Array(unknown content &lt;class 'mistletoe.span_tokens.HTMLSpan'>)} [args]
The array of arguments to pass to the function call. Defaults to the
empty array.</p></blockquote><p>Creates a new Catspeak runtime process for this Catspeak function. This
function is also compatible with GML functions.</p><p><strong>Returns</strong> <code class="inline-code">Struct.CatspeakProcess</code></p></section><section><h1 class="heading" id="catspeak_into_gml_function"><a href="#catspeak_into_gml_function">Â§</a> catspeak_into_gml_function</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">catspeak_into_gml_function</span>(
  <span class="kw-var">scr</span> : <span class="kw-typ">Function</span>,
) -> <span class="kw-typ">Function</span></code></pre><blockquote class="stab deprecated"><strong>ðŸ‘Ž Deprecated</strong></blockquote><p>Converts a Catspeak function into a GML function which is executed
immediately.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">scr</code></p><p>The Catspeak function to execute.</p></li></ul><p><strong>Returns</strong> <code class="inline-code">Function</code></p></section><section><h1 class="heading" id="catspeak_session_extern"><a href="#catspeak_session_extern">Â§</a> catspeak_session_extern</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">catspeak_session_extern</span>(
  <span class="kw-var">scr</span> : <span class="kw-typ">Struct</span>.<span class="kw-typ">CatspeakFunction</span>,
) -> <span class="kw-typ">Function</span></code></pre><blockquote class="stab deprecated"><strong>ðŸ‘Ž Deprecated</strong><p>Use <code class="inline-code">catspeak_into_gml_function</code> instead.</p></blockquote><p>The old name of <code class="inline-code">catspeak_into_gml_function</code> from the compatibility
runtime for Catspeak.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">scr</code></p><p>The Catspeak function to execute.</p></li></ul><p><strong>Returns</strong> <code class="inline-code">Function</code></p></section><section><h1 class="heading" id="future_all"><a href="#future_all">Â§</a> future_all</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">future_all</span>() -> <span class="kw-typ">Struct</span>.<span class="kw-typ">Future</span></code></pre><p>Creates a new <code class="inline-code">Future</code> which is accepted only when all other futures in an
array are accepted. If any future in the array is rejected, then the
resulting future is rejected with its value. If all futures are accepted,
then the resulting future is accepted with an array of their values.</p><p>@param {Array<Struct.Future>} futures
The array of futures to await.</p><p><strong>Returns</strong> <code class="inline-code">Struct.Future</code></p></section><section><h1 class="heading" id="future_any"><a href="#future_any">Â§</a> future_any</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">future_any</span>() -> <span class="kw-typ">Struct</span>.<span class="kw-typ">Future</span></code></pre><p>Creates a new <code class="inline-code">Future</code> which is accepted if any of the futures in an
array are accepted. If all futures in the array are rejected, then the
resulting future is rejected with an array of their values.</p><p>@param {Array<Struct.Future>} futures
The array of futures to await.</p><p><strong>Returns</strong> <code class="inline-code">Struct.Future</code></p></section><section><h1 class="heading" id="future_error"><a href="#future_error">Â§</a> future_error</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">future_error</span>(
  <span class="kw-var">value</span> : <span class="kw-typ">Any</span>,
) -> <span class="kw-typ">Struct</span>.<span class="kw-typ">Future</span></code></pre><p>Creates a new <code class="inline-code">Future</code> which is immediately rejected with a value.
If the value itself it an instance of <code class="inline-code">Future</code>, then it is returned
instead.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">value</code></p><p>The value to create a future from.</p></li></ul><p><strong>Returns</strong> <code class="inline-code">Struct.Future</code></p></section><section><h1 class="heading" id="future_ok"><a href="#future_ok">Â§</a> future_ok</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">future_ok</span>(
  <span class="kw-var">value</span> : <span class="kw-typ">Any</span>,
) -> <span class="kw-typ">Struct</span>.<span class="kw-typ">Future</span></code></pre><p>Creates a new <code class="inline-code">Future</code> which is immediately accepted with a value.
If the value itself it an instance of <code class="inline-code">Future</code>, then it is returned
instead.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">value</code></p><p>The value to create a future from.</p></li></ul><p><strong>Returns</strong> <code class="inline-code">Struct.Future</code></p></section><section><h1 class="heading" id="future_settled"><a href="#future_settled">Â§</a> future_settled</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">future_settled</span>() -> <span class="kw-typ">Struct</span>.<span class="kw-typ">Future</span></code></pre><p>Creates a new <code class="inline-code">Future</code> which is accepted when all of the futures in an
array are either accepted or rejected.</p><p>@param {Array<Struct.Future>} futures
The array of futures to await.</p><p><strong>Returns</strong> <code class="inline-code">Struct.Future</code></p></section><section><h1 class="heading" id="is_future"><a href="#is_future">Â§</a> is_future</h1><pre><code><span class="kw-key">function</span> <span class="kw-fun">is_future</span>(
  <span class="kw-var">value</span> : <span class="kw-typ">Any</span>,
) -> <span class="kw-typ">Bool</span></code></pre><p>Returns whether this value represents a future instance.</p><p><strong>Arguments</strong></p><ul><li><p><code class="inline-code">value</code></p><p>The value to check.</p></li></ul><p><strong>Returns</strong> <code class="inline-code">Bool</code></p></section></article></main></article><footer><hr><article><em id="brand">Built using Catlog, the <a href="https://www.katsaii.com/catspeak-lang/">Catspeak</a> book generator.</em></article><article></article></footer></body></html>